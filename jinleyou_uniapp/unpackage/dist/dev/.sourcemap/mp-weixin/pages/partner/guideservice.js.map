{"version":3,"file":"guideservice.js","sources":["pages/partner/guideservice.vue","../Programming/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGFydG5lci9ndWlkZXNlcnZpY2UudnVl"],"sourcesContent":["<template>\n  <view class=\"form-container\">\n    <view class=\"form-header\">\n      <text class=\"form-title\">✨ 发布导游服务</text>\n      <button class=\"close-btn\" @tap=\"goBack\">×</button>\n    </view>\n\n    <scroll-view class=\"form-content\" scroll-y>\n      <form @submit=\"submitGuide\">\n        <view class=\"form-group\">\n          <label>服务标题</label>\n          <input \n            type=\"text\"\n            v-model=\"formData.title\"\n            placeholder=\"请输入服务标题\"\n            class=\"form-input\"\n            required\n          />\n        </view>\n\n        <view class=\"form-group\">\n          <label>服务类型</label>\n          <picker \n            mode=\"selector\" \n            :range=\"serviceTypeOptions\"\n            @change=\"(e) => formData.type = serviceTypeOptions[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.type || '请选择服务类型' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>服务时长</label>\n          <picker \n            mode=\"selector\" \n            :range=\"durationOptions\"\n            @change=\"(e) => formData.duration = durationOptions[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.duration ? `${formData.duration}小时` : '请选择时长' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>服务价格</label>\n          <picker \n            mode=\"selector\" \n            :range=\"priceOptions\"\n            @change=\"(e) => formData.price = priceOptions[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.price ? `¥${formData.price}` : '请选择价格' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>服务描述</label>\n          <textarea\n            v-model=\"formData.description\"\n            placeholder=\"请描述你的导游服务（包含内容、语言能力等）\"\n            class=\"form-textarea\"\n            auto-height\n            required\n          />\n        </view>\n\n        <button form-type=\"submit\" class=\"submit-btn\">立即发布</button>\n      </form>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst serviceTypeOptions = ['历史讲解', '美食导览', '城市观光', '户外探险']\nconst durationOptions = [2, 4, 6, 8]\nconst priceOptions = [100, 150, 200, 250, 300]\n\nconst formData = ref({\n  title: '',\n  type: '',\n  duration: null,\n  price: null,\n  description: ''\n})\n\nconst submitGuide = async () => {\n  try {\n    const { data } = await uni.request({\n      url: 'http://localhost:5173/api/guide-services',\n      method: 'POST',\n      data: {\n        ...formData.value,\n        city: '天津',\n        userId: 'currentUserId',\n        user: {\n          name: '当前用户',\n          avatar: '/static/default-avatar.png'\n        }\n      }\n    })\n    \n    uni.showToast({ title: '发布成功' })\n    setTimeout(() => uni.navigateBack(), 1500)\n  } catch (error) {\n    console.error('提交失败:', error)\n    uni.showToast({ title: '发布失败', icon: 'error' })\n  }\n}\n\nconst goBack = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style scoped>\n/* 复用 tripsplan 的样式 */\n</style>","import MiniProgramPage from 'C:/Users/SZQ/Desktop/jinleyou_uniapp/pages/partner/guideservice.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;AAyEA,UAAM,qBAAqB,CAAC,QAAQ,QAAQ,QAAQ,MAAM;AAC1D,UAAM,kBAAkB,CAAC,GAAG,GAAG,GAAG,CAAC;AACnC,UAAM,eAAe,CAAC,KAAK,KAAK,KAAK,KAAK,GAAG;AAE7C,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,OAAO;AAAA,MACP,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO;AAAA,MACP,aAAa;AAAA,IACf,CAAC;AAED,UAAM,cAAc,YAAY;AAC9B,UAAI;AACF,cAAM,EAAE,KAAI,IAAK,MAAMC,cAAAA,MAAI,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,GAAG,SAAS;AAAA,YACZ,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,MAAM;AAAA,cACJ,MAAM;AAAA,cACN,QAAQ;AAAA,YACT;AAAA,UACF;AAAA,QACP,CAAK;AAEDA,sBAAAA,MAAI,UAAU,EAAE,OAAO,OAAM,CAAE;AAC/B,mBAAW,MAAMA,cAAAA,MAAI,aAAY,GAAI,IAAI;AAAA,MAC1C,SAAQ,OAAO;AACdA,sBAAAA,8DAAc,SAAS,KAAK;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,SAAS;AAAA,MAC/C;AAAA,IACH;AAEA,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;;;AC9GA,GAAG,WAAW,eAAe;"}