{"version":3,"file":"tripsplan.js","sources":["pages/partner/tripsplan.vue","../Programming/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGFydG5lci90cmlwc3BsYW4udnVl"],"sourcesContent":["<template>\n  <view class=\"form-container\">\n    <view class=\"form-header\">\n      <text class=\"form-title\">📝 发布旅行计划</text>\n      <button class=\"close-btn\" @tap=\"goBack\">×</button>\n    </view>\n\n    <scroll-view class=\"form-content\" scroll-y>\n      <form @submit=\"submitPlan\">\n        <view class=\"form-group\">\n          <label>计划标题</label>\n          <input \n            type=\"text\"\n            v-model=\"formData.title\"\n            placeholder=\"请输入计划标题\"\n            class=\"form-input\"\n            required\n          />\n        </view>\n\n        <view class=\"form-group\">\n          <label>出发日期</label>\n          <picker \n            mode=\"date\" \n            :value=\"formData.date\"\n            @change=\"(e) => formData.date = e.detail.value\"\n          >\n            <view class=\"picker\">{{ formData.date || '请选择日期' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>目的地</label>\n          <picker \n            mode=\"selector\" \n            :range=\"tianjinPlaces\"\n            @change=\"(e) => formData.destination = tianjinPlaces[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.destination || '请选择目的地' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>旅行偏好</label>\n          <picker \n            mode=\"selector\" \n            :range=\"preferenceOptions\"\n            @change=\"(e) => formData.preference = preferenceOptions[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.preference || '请选择偏好' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>详细描述</label>\n          <textarea\n            v-model=\"formData.description\"\n            placeholder=\"请描述你的旅行计划（行程安排、注意事项等）\"\n            class=\"form-textarea\"\n            auto-height\n            required\n          />\n        </view>\n\n        <button form-type=\"submit\" class=\"submit-btn\">立即发布</button>\n      </form>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst tianjinPlaces = ['五大道', '意式风情街', '天津之眼', '古文化街']\nconst preferenceOptions = ['美食', '历史', '自然', '摄影', '亲子']\n\nconst formData = ref({\n  title: '',\n  date: '',\n  destination: '',\n  preference: '',\n  description: ''\n})\n\nconst submitPlan = async () => {\n  try {\n    const { data } = await uni.request({\n      url: 'http://localhost:5173/api/travel-plans',\n      method: 'POST',\n      data: {\n        ...formData.value,\n        city: '天津',\n        userId: 'currentUserId',\n        user: {\n          name: '当前用户',\n          avatar: '/static/default-avatar.png'\n        }\n      }\n    })\n    \n    uni.showToast({ title: '发布成功' })\n    setTimeout(() => uni.navigateBack(), 1500)\n  } catch (error) {\n    console.error('提交失败:', error)\n    uni.showToast({ title: '发布失败', icon: 'error' })\n  }\n}\n\nconst goBack = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style scoped>\n.form-container {\n  padding: 20px;\n  min-height: 100vh;\n  background-color: #f8fafc;\n}\n\n.form-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  background: #fff;\n  border-radius: 12px;\n  margin-bottom: 20px;\n}\n\n.form-title {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.close-btn {\n  font-size: 32px;\n  color: #666;\n  background: none;\n  border: none;\n}\n\n.form-content {\n  padding: 15px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n  background: #fff;\n  padding: 15px;\n  border-radius: 8px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  color: #333;\n  font-size: 14px;\n}\n\n.form-input, .picker, .form-textarea {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 14px;\n}\n\n.form-textarea {\n  height: 120px;\n}\n\n.submit-btn {\n  background: #2867CE;\n  color: #fff;\n  padding: 15px;\n  border-radius: 8px;\n  margin-top: 20px;\n}\n</style>","import MiniProgramPage from 'C:/Users/SZQ/Desktop/jinleyou_uniapp/pages/partner/tripsplan.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;AAyEA,UAAM,gBAAgB,CAAC,OAAO,SAAS,QAAQ,MAAM;AACrD,UAAM,oBAAoB,CAAC,MAAM,MAAM,MAAM,MAAM,IAAI;AAEvD,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,OAAO;AAAA,MACP,MAAM;AAAA,MACN,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,aAAa;AAAA,IACf,CAAC;AAED,UAAM,aAAa,YAAY;AAC7B,UAAI;AACF,cAAM,EAAE,KAAI,IAAK,MAAMC,cAAAA,MAAI,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,GAAG,SAAS;AAAA,YACZ,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,MAAM;AAAA,cACJ,MAAM;AAAA,cACN,QAAQ;AAAA,YACT;AAAA,UACF;AAAA,QACP,CAAK;AAEDA,sBAAAA,MAAI,UAAU,EAAE,OAAO,OAAM,CAAE;AAC/B,mBAAW,MAAMA,cAAAA,MAAI,aAAY,GAAI,IAAI;AAAA,MAC1C,SAAQ,OAAO;AACdA,sBAAAA,2DAAc,SAAS,KAAK;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,SAAS;AAAA,MAC/C;AAAA,IACH;AAEA,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;;;AC7GA,GAAG,WAAW,eAAe;"}