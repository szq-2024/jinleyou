{"version":3,"file":"tripsplan.js","sources":["pages/partner/tripsplan.vue","../Programming/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcGFydG5lci90cmlwc3BsYW4udnVl"],"sourcesContent":["<template>\n  <view class=\"form-container\">\n    <view class=\"form-header\">\n      <text class=\"form-title\">ğŸ“ å‘å¸ƒæ—…è¡Œè®¡åˆ’</text>\n      <button class=\"close-btn\" @tap=\"goBack\">Ã—</button>\n    </view>\n\n    <scroll-view class=\"form-content\" scroll-y>\n      <form @submit=\"submitPlan\">\n        <view class=\"form-group\">\n          <label>è®¡åˆ’æ ‡é¢˜</label>\n          <input \n            type=\"text\"\n            v-model=\"formData.title\"\n            placeholder=\"è¯·è¾“å…¥è®¡åˆ’æ ‡é¢˜\"\n            class=\"form-input\"\n            required\n          />\n        </view>\n\n        <view class=\"form-group\">\n          <label>å‡ºå‘æ—¥æœŸ</label>\n          <picker \n            mode=\"date\" \n            :value=\"formData.date\"\n            @change=\"(e) => formData.date = e.detail.value\"\n          >\n            <view class=\"picker\">{{ formData.date || 'è¯·é€‰æ‹©æ—¥æœŸ' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>ç›®çš„åœ°</label>\n          <picker \n            mode=\"selector\" \n            :range=\"tianjinPlaces\"\n            @change=\"(e) => formData.destination = tianjinPlaces[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.destination || 'è¯·é€‰æ‹©ç›®çš„åœ°' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>æ—…è¡Œåå¥½</label>\n          <picker \n            mode=\"selector\" \n            :range=\"preferenceOptions\"\n            @change=\"(e) => formData.preference = preferenceOptions[e.detail.value]\"\n          >\n            <view class=\"picker\">{{ formData.preference || 'è¯·é€‰æ‹©åå¥½' }}</view>\n          </picker>\n        </view>\n\n        <view class=\"form-group\">\n          <label>è¯¦ç»†æè¿°</label>\n          <textarea\n            v-model=\"formData.description\"\n            placeholder=\"è¯·æè¿°ä½ çš„æ—…è¡Œè®¡åˆ’ï¼ˆè¡Œç¨‹å®‰æ’ã€æ³¨æ„äº‹é¡¹ç­‰ï¼‰\"\n            class=\"form-textarea\"\n            auto-height\n            required\n          />\n        </view>\n\n        <button form-type=\"submit\" class=\"submit-btn\">ç«‹å³å‘å¸ƒ</button>\n      </form>\n    </scroll-view>\n  </view>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\n\nconst tianjinPlaces = ['äº”å¤§é“', 'æ„å¼é£æƒ…è¡—', 'å¤©æ´¥ä¹‹çœ¼', 'å¤æ–‡åŒ–è¡—']\nconst preferenceOptions = ['ç¾é£Ÿ', 'å†å²', 'è‡ªç„¶', 'æ‘„å½±', 'äº²å­']\n\nconst formData = ref({\n  title: '',\n  date: '',\n  destination: '',\n  preference: '',\n  description: ''\n})\n\nconst submitPlan = async () => {\n  try {\n    const { data } = await uni.request({\n      url: 'http://localhost:5173/api/travel-plans',\n      method: 'POST',\n      data: {\n        ...formData.value,\n        city: 'å¤©æ´¥',\n        userId: 'currentUserId',\n        user: {\n          name: 'å½“å‰ç”¨æˆ·',\n          avatar: '/static/default-avatar.png'\n        }\n      }\n    })\n    \n    uni.showToast({ title: 'å‘å¸ƒæˆåŠŸ' })\n    setTimeout(() => uni.navigateBack(), 1500)\n  } catch (error) {\n    console.error('æäº¤å¤±è´¥:', error)\n    uni.showToast({ title: 'å‘å¸ƒå¤±è´¥', icon: 'error' })\n  }\n}\n\nconst goBack = () => {\n  uni.navigateBack()\n}\n</script>\n\n<style scoped>\n.form-container {\n  padding: 20px;\n  min-height: 100vh;\n  background-color: #f8fafc;\n}\n\n.form-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  background: #fff;\n  border-radius: 12px;\n  margin-bottom: 20px;\n}\n\n.form-title {\n  font-size: 20px;\n  font-weight: 600;\n}\n\n.close-btn {\n  font-size: 32px;\n  color: #666;\n  background: none;\n  border: none;\n}\n\n.form-content {\n  padding: 15px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n  background: #fff;\n  padding: 15px;\n  border-radius: 8px;\n}\n\nlabel {\n  display: block;\n  margin-bottom: 8px;\n  color: #333;\n  font-size: 14px;\n}\n\n.form-input, .picker, .form-textarea {\n  width: 100%;\n  padding: 12px;\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  font-size: 14px;\n}\n\n.form-textarea {\n  height: 120px;\n}\n\n.submit-btn {\n  background: #2867CE;\n  color: #fff;\n  padding: 15px;\n  border-radius: 8px;\n  margin-top: 20px;\n}\n</style>","import MiniProgramPage from 'C:/Users/SZQ/Desktop/jinleyou_uniapp/pages/partner/tripsplan.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","uni"],"mappings":";;;;;AAyEA,UAAM,gBAAgB,CAAC,OAAO,SAAS,QAAQ,MAAM;AACrD,UAAM,oBAAoB,CAAC,MAAM,MAAM,MAAM,MAAM,IAAI;AAEvD,UAAM,WAAWA,cAAAA,IAAI;AAAA,MACnB,OAAO;AAAA,MACP,MAAM;AAAA,MACN,aAAa;AAAA,MACb,YAAY;AAAA,MACZ,aAAa;AAAA,IACf,CAAC;AAED,UAAM,aAAa,YAAY;AAC7B,UAAI;AACF,cAAM,EAAE,KAAI,IAAK,MAAMC,cAAAA,MAAI,QAAQ;AAAA,UACjC,KAAK;AAAA,UACL,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,GAAG,SAAS;AAAA,YACZ,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,MAAM;AAAA,cACJ,MAAM;AAAA,cACN,QAAQ;AAAA,YACT;AAAA,UACF;AAAA,QACP,CAAK;AAEDA,sBAAAA,MAAI,UAAU,EAAE,OAAO,OAAM,CAAE;AAC/B,mBAAW,MAAMA,cAAAA,MAAI,aAAY,GAAI,IAAI;AAAA,MAC1C,SAAQ,OAAO;AACdA,sBAAAA,2DAAc,SAAS,KAAK;AAC5BA,sBAAG,MAAC,UAAU,EAAE,OAAO,QAAQ,MAAM,SAAS;AAAA,MAC/C;AAAA,IACH;AAEA,UAAM,SAAS,MAAM;AACnBA,oBAAAA,MAAI,aAAc;AAAA,IACpB;;;;;;;;;;;;;;;;;;;;;;;;AC7GA,GAAG,WAAW,eAAe;"}