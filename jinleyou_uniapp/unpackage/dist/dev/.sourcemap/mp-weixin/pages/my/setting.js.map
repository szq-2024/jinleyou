{"version":3,"file":"setting.js","sources":["pages/my/setting.vue","../Programming/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvc2V0dGluZy52dWU"],"sourcesContent":["<template>\n  <view class=\"settings-container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"nav-bar\">\n      <uni-icons type=\"arrowleft\" size=\"24\" color=\"#333\" @click=\"goBack\" />\n      <text class=\"title\">设置</text>\n      <view class=\"right-placeholder\"></view>\n    </view>\n\n    <!-- 设置列表 -->\n    <view class=\"settings-list\">\n      <!-- 账号设置 -->\n      <view class=\"section-title\">账号设置</view>\n      <view class=\"setting-item\" @click=\"navigateTo('/pages/my/edit-profile')\">\n        <view class=\"item-left\">\n          <uni-icons type=\"person\" size=\"20\" color=\"#666\" />\n          <text>个人资料</text>\n        </view>\n        <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n      </view>\n\n      <view class=\"setting-item\" @click=\"navigateTo('/pages/my/change-password')\">\n        <view class=\"item-left\">\n          <uni-icons type=\"locked\" size=\"20\" color=\"#666\" />\n          <text>修改密码</text>\n        </view>\n        <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n      </view>\n\n      <!-- 通知设置 -->\n      <view class=\"section-title\">通知设置</view>\n      <view class=\"setting-item\">\n        <view class=\"item-left\">\n          <uni-icons type=\"sound\" size=\"20\" color=\"#666\" />\n          <text>消息通知</text>\n        </view>\n        <switch :checked=\"notificationEnabled\" @change=\"toggleNotification\" />\n      </view>\n\n      <!-- 通用设置 -->\n      <view class=\"section-title\">通用设置</view>\n      <view class=\"setting-item\" @click=\"navigateTo('/pages/my/clear-cache')\">\n        <view class=\"item-left\">\n          <uni-icons type=\"trash\" size=\"20\" color=\"#666\" />\n          <text>清除缓存</text>\n        </view>\n        <view class=\"item-right\">\n          <text class=\"cache-size\">{{ cacheSize }}</text>\n          <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n        </view>\n      </view>\n\n      <view class=\"setting-item\" @click=\"checkUpdate\">\n        <view class=\"item-left\">\n          <uni-icons type=\"download\" size=\"20\" color=\"#666\" />\n          <text>检查更新</text>\n        </view>\n        <view class=\"item-right\">\n          <text class=\"version\">v{{ appVersion }}</text>\n          <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n        </view>\n      </view>\n\n      <!-- 关于我们 -->\n      <view class=\"section-title\">关于</view>\n      <view class=\"setting-item\" @click=\"navigateTo('/pages/my/about-us')\">\n        <view class=\"item-left\">\n          <uni-icons type=\"info\" size=\"20\" color=\"#666\" />\n          <text>关于我们</text>\n        </view>\n        <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n      </view>\n\n      <view class=\"setting-item\" @click=\"showAgreement\">\n        <view class=\"item-left\">\n          <uni-icons type=\"paperclip\" size=\"20\" color=\"#666\" />\n          <text>用户协议</text>\n        </view>\n        <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n      </view>\n\n      <view class=\"setting-item\" @click=\"showPrivacy\">\n        <view class=\"item-left\">\n          <uni-icons type=\"eye\" size=\"20\" color=\"#666\" />\n          <text>隐私政策</text>\n        </view>\n        <uni-icons type=\"arrowright\" size=\"16\" color=\"#ccc\" />\n      </view>\n    </view>\n\n    <!-- 退出登录按钮 -->\n    <view class=\"logout-btn\">\n      <button @click=\"logout\">退出登录</button>\n    </view>\n  </view>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      notificationEnabled: true,\n      cacheSize: '12.5MB',\n      appVersion: '1.0.0'\n    }\n  },\n  onLoad() {\n    this.getAppInfo()\n  },\n  methods: {\n    // 返回上一页\n    goBack() {\n      uni.navigateBack()\n    },\n    \n    // 通用跳转方法\n    navigateTo(url) {\n      uni.navigateTo({ url })\n    },\n    \n    // 获取应用信息\n    getAppInfo() {\n      // 获取版本号\n      const accountInfo = uni.getAccountInfoSync()\n      this.appVersion = accountInfo.miniProgram.version || '1.0.0'\n      \n      // 获取缓存大小（模拟）\n      this.cacheSize = this.calculateCacheSize()\n    },\n    \n    // 计算缓存大小（模拟）\n    calculateCacheSize() {\n      const size = Math.random() * 10 + 5\n      return size.toFixed(1) + 'MB'\n    },\n    \n    // 切换通知设置\n    toggleNotification(e) {\n      this.notificationEnabled = e.detail.value\n      uni.showToast({\n        title: this.notificationEnabled ? '已开启通知' : '已关闭通知',\n        icon: 'none'\n      })\n    },\n    \n    // 检查更新\n    checkUpdate() {\n      uni.showLoading({ title: '检查中...' })\n      \n      // 模拟网络请求\n      setTimeout(() => {\n        uni.hideLoading()\n        uni.showModal({\n          title: '提示',\n          content: '当前已是最新版本',\n          showCancel: false\n        })\n      }, 1000)\n    },\n    \n    // 显示用户协议\n    showAgreement() {\n      uni.navigateTo({\n        url: '/pages/webview?url=' + encodeURIComponent('https://yourdomain.com/agreement')\n      })\n    },\n    \n    // 显示隐私政策\n    showPrivacy() {\n      uni.navigateTo({\n        url: '/pages/webview?url=' + encodeURIComponent('https://yourdomain.com/privacy')\n      })\n    },\n    \n    // 退出登录\n    logout() {\n      uni.showModal({\n        title: '提示',\n        content: '确定要退出登录吗？',\n        success: (res) => {\n          if (res.confirm) {\n            // 清除用户信息和token\n            uni.removeStorageSync('token')\n            uni.removeStorageSync('userInfo')\n            \n            // 跳转到登录页面\n            uni.redirectTo({\n              url: '/pages/auth/login'\n            })\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.settings-container {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  padding-bottom: 100rpx;\n  \n  .nav-bar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 20rpx 30rpx;\n    background-color: #fff;\n    border-bottom: 1rpx solid #f0f0f0;\n    \n    .title {\n      font-size: 36rpx;\n      font-weight: bold;\n    }\n    \n    .right-placeholder {\n      width: 40rpx;\n    }\n  }\n  \n  .settings-list {\n    background-color: #fff;\n    margin-top: 20rpx;\n    \n    .section-title {\n      padding: 20rpx 30rpx;\n      font-size: 26rpx;\n      color: #999;\n      border-bottom: 1rpx solid #f5f5f5;\n    }\n    \n    .setting-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      padding: 30rpx;\n      border-bottom: 1rpx solid #f5f5f5;\n      \n      .item-left {\n        display: flex;\n        align-items: center;\n        \n        text {\n          margin-left: 20rpx;\n          font-size: 30rpx;\n          color: #333;\n        }\n      }\n      \n      .item-right {\n        display: flex;\n        align-items: center;\n        \n        .cache-size, .version {\n          font-size: 26rpx;\n          color: #999;\n          margin-right: 10rpx;\n        }\n      }\n      \n      &:active {\n        background-color: #f9f9f9;\n      }\n    }\n  }\n  \n  .logout-btn {\n    margin-top: 60rpx;\n    padding: 0 30rpx;\n    \n    button {\n      background-color: #fff;\n      color: #2867CE;\n      border: none;\n      height: 90rpx;\n      line-height: 90rpx;\n      font-size: 32rpx;\n      border-radius: 10rpx;\n      \n      &:active {\n        opacity: 0.8;\n      }\n    }\n  }\n}\n</style>","import MiniProgramPage from 'C:/Users/SZQ/Desktop/jinleyou_uniapp/pages/my/setting.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;AAkGA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,qBAAqB;AAAA,MACrB,WAAW;AAAA,MACX,YAAY;AAAA,IACd;AAAA,EACD;AAAA,EACD,SAAS;AACP,SAAK,WAAW;AAAA,EACjB;AAAA,EACD,SAAS;AAAA;AAAA,IAEP,SAAS;AACPA,oBAAAA,MAAI,aAAa;AAAA,IAClB;AAAA;AAAA,IAGD,WAAW,KAAK;AACdA,0BAAI,WAAW,EAAE,KAAK;AAAA,IACvB;AAAA;AAAA,IAGD,aAAa;AAEX,YAAM,cAAcA,cAAG,MAAC,mBAAmB;AAC3C,WAAK,aAAa,YAAY,YAAY,WAAW;AAGrD,WAAK,YAAY,KAAK,mBAAmB;AAAA,IAC1C;AAAA;AAAA,IAGD,qBAAqB;AACnB,YAAM,OAAO,KAAK,OAAS,IAAE,KAAK;AAClC,aAAO,KAAK,QAAQ,CAAC,IAAI;AAAA,IAC1B;AAAA;AAAA,IAGD,mBAAmB,GAAG;AACpB,WAAK,sBAAsB,EAAE,OAAO;AACpCA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO,KAAK,sBAAsB,UAAU;AAAA,QAC5C,MAAM;AAAA,OACP;AAAA,IACF;AAAA;AAAA,IAGD,cAAc;AACZA,oBAAAA,MAAI,YAAY,EAAE,OAAO,UAAU;AAGnC,iBAAW,MAAM;AACfA,sBAAAA,MAAI,YAAY;AAChBA,sBAAAA,MAAI,UAAU;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,YAAY;AAAA,SACb;AAAA,MACF,GAAE,GAAI;AAAA,IACR;AAAA;AAAA,IAGD,gBAAgB;AACdA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,wBAAwB,mBAAmB,kCAAkC;AAAA,OACnF;AAAA,IACF;AAAA;AAAA,IAGD,cAAc;AACZA,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAK,wBAAwB,mBAAmB,gCAAgC;AAAA,OACjF;AAAA,IACF;AAAA;AAAA,IAGD,SAAS;AACPA,oBAAAA,MAAI,UAAU;AAAA,QACZ,OAAO;AAAA,QACP,SAAS;AAAA,QACT,SAAS,CAAC,QAAQ;AAChB,cAAI,IAAI,SAAS;AAEfA,0BAAG,MAAC,kBAAkB,OAAO;AAC7BA,0BAAG,MAAC,kBAAkB,UAAU;AAGhCA,0BAAAA,MAAI,WAAW;AAAA,cACb,KAAK;AAAA,aACN;AAAA,UACH;AAAA,QACF;AAAA,OACD;AAAA,IACH;AAAA,EACF;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjMA,GAAG,WAAW,eAAe;"}