{"version":3,"file":"CardList.js","sources":["components/CardList.vue","../../Programming/HBuilderX.4.57.2025032507/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/QzovVXNlcnMvU1pRL0Rlc2t0b3AvamlubGV5b3VfR2l0SHViL2ppbmxleW91X3VuaWFwcC9jb21wb25lbnRzL0NhcmRMaXN0LnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"card-list\">\n    <view \n      v-for=\"(item, index) in items\"\n      :key=\"index\"\n      class=\"card-item\"\n      @click=\"handleClick(item)\"\n    >\n      <!-- 旅行计划卡片 -->\n      <template v-if=\"type === 'plan'\">\n        <text class=\"type-tag plan-tag\">{{ typeMap[type] }}</text>\n        <view class=\"card-content\">\n          <view class=\"card-header\">\n            <text class=\"card-title\">标题：{{ item.title }}</text>\n            <text class=\"card-time\">\n              日期：{{ dayjs(item.date).format('YY/MM/DD') }}\n            </text>\n          </view>\n          <view class=\"card-meta\">\n            <text class=\"card-location\">地点： {{ item.destination }}</text>\n            <text class=\"card-preference\">偏好：{{ item.preference }}</text>\n          </view>\n          <text class=\"card-desc\">描述：{{ item.description }}</text>\n        </view>\n        <button class=\"chat-button\">私聊</button>\n      </template>\n\n      <!-- 修改后的导游服务卡片 -->\n      <template v-if=\"type === 'guide'\">\n        <text class=\"type-tag guide-tag\">{{ typeMap[type] }}</text>\n        <view class=\"guide-header\">\n          <view class=\"guide-info\">\n            <text class=\"guide-date\">日期：{{ dayjs(item.serviceDate).format('YYYY-MM-DD') }}</text>\n            <text class=\"card-location\">景点：{{ item.destination }}</text>\n            <view class=\"service-meta\">\n              <text class=\"guide-service\">类型：{{ item.type }}</text>\n              <text class=\"guide-duration\">时长：{{ item.duration }}小时</text>\n            </view>\n          </view>\n        </view>\n        <text class=\"guide-price\">{{ item.price }}元/天</text>\n        <text class=\"guide-desc\">服务描述：{{ item.description }}</text>\n        <button \n          v-if=\"showDelete\"\n          class=\"delete-button\"\n          @click.stop=\"$emit('delete', item)\"\n        >\n          删除\n        </button>\n        <button\n          v-else\n          class=\"chat-button\"\n          @click.stop=\"$emit('chat', item)\"\n        >\n          私聊\n        </button>\n      </template>\n\n      <!-- 用户评论卡片 -->\n      <template v-if=\"type === 'review'\">\n        <view class=\"review-header\">\n            <image :src=\"item.avatar\" class=\"avatar\" />\n            <view class=\"user-info-container\">\n              <view class=\"user-info\">\n                <text class=\"nickname\">{{ item.nickname }}</text>\n              </view>\n            </view>\n            <button \n              v-if=\"showDelete\"\n              class=\"delete-button\"\n              @click.stop=\"$emit('delete', item)\"\n            >\n              删除\n            </button>\n        </view>\n        <view class=\"review-content\">\n          <text class=\"scenic-name line-clamp-1\">景点：{{ item.scenicName }}</text>\n          <text class=\"content-text line-clamp-1\">评论内容：{{ item.content }}</text>\n          <view class=\"image-preview\" v-if=\"item.images && item.images.length\">\n              <image \n                  v-for=\"(img, idx) in item.images\"\n                  :key=\"idx\"\n                  :src=\"img\"\n                  mode=\"aspectFill\"\n                  class=\"review-image\"\n              />\n          </view>\n          <text class=\"review-time\">\n            {{ dayjs(item.createdAt).format('YYYY-MM-DD') }}\n          </text>\n        </view>\n      </template>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport dayjs from 'dayjs';\nimport { computed } from 'vue';\nconst typeMap = {\n  plan: '旅行计划',\n  guide: '导游服务',\n  review:'用户评论'\n};\n\ndefineProps({\n  items: {\n    type: Array,\n    required: true\n  },\n  type: {\n    type: String,\n    validator: (value) => ['plans', 'guides', 'review'].includes(value)\n  },\n    showDelete: {\n      type: Boolean,\n      default: false\n    }\n});\n\nconst emit = defineEmits(['itemClick', 'chat']);\n\nconst handleClick = (item) => {\n  emit('itemClick', item);\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.card-list {\n  display: flex;\n  flex-direction: column;\n  gap: 24rpx;\n  padding: 32rpx;\n}\n\n.card-item {\n  position: relative;\n  background: white;\n  border-radius: 24rpx;\n  padding: 32rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  min-height: 240rpx;\n  \n  &:active {\n    transform: scale(0.98);\n  }\n}\n\n.type-tag {\n  position: absolute;\n  top: 24rpx;\n  left: 24rpx;\n  padding: 6rpx 16rpx;\n  border-radius: 8rpx;\n  font-size: 24rpx;\n  font-weight: 500;\n  z-index: 1;\n\n  &.plan-tag {\n    background: #e6f4ff;\n    color: #1890ff;\n  }\n\n  &.guide-tag {\n    background: #fff7e6;\n    color: #fa8c16;\n  }\n}\n\n.delete-button {\n  position: absolute;\n  right: 32rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #8A2BE2;\n  color: white;\n  padding: 16rpx 32rpx;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  line-height: 1.5;\n}\n\n.chat-button {\n  position: absolute;\n  right: 32rpx;\n  top: 50%;\n  transform: translateY(-50%);\n  background: #4369f4;\n  color: white;\n  padding: 16rpx 32rpx;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  line-height: 1.5;\n}\n\n/* 导游卡片优化样式 */\n.guide-header {\n  margin-top: 40rpx;\n  padding-right: 180rpx;\n\n  .guide-info {\n    .guide-date {\n      display: block;\n      margin-bottom: 8rpx;\n      font-size: 28rpx;\n      color: #666;\n      line-height: 1.6;\n    }\n    \n    .card-location {\n      display: block;\n      font-size: 28rpx;\n      color: #666;\n      line-height: 1.6;\n      margin-bottom: 8rpx;\n    }\n\n    .service-meta {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 10rpx 20rpx;\n      margin: 8rpx 0;\n\n      .guide-service,\n      .guide-duration {\n        font-size: 28rpx;\n        color: #666;\n        white-space: normal;\n      }\n    }\n  }\n}\n\n.guide-price {\n  position: absolute;\n  right: 32rpx;\n  top: 80rpx;\n  font-size: 28rpx;\n  color: #ff4444;\n  font-weight: 600;\n}\n\n.guide-desc {\n  color: #666;\n  font-size: 28rpx;\n  line-height: 1.4;\n  margin-top: 10rpx;\n  padding-right: 160rpx;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n}\n\n/* 用户评论样式保持不变 */\n.review-header {\n  display: flex;\n  align-items: center;\n  gap: 20rpx;\n  margin-bottom: 20rpx;\n\n  .avatar {\n    width: 80rpx;\n    height: 80rpx;\n    border-radius: 50%;\n    flex-shrink: 0;\n  }\n\n  .user-info {\n    flex: 1;\n    min-width: 0;\n  }\n\n  .nickname {\n    font-size: 28rpx;\n    color: #333;\n    line-height: 1.4;\n    white-space: normal;\n  }\n}\n\n.review-content {\n  .scenic-name {\n    color: #666;\n    font-size: 26rpx;\n    line-height: 1.4;\n    white-space: normal;\n    word-break: break-all;\n  }\n  .content-text {\n    font-size: 28rpx;\n    color: #333;\n    line-height: 1.6;\n    margin-bottom: 20rpx;\n  }\n  .line-clamp-1 {\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n    overflow: hidden;\n    word-break: break-all;\n  }\n  .image-preview {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 16rpx;\n    margin-top: 20rpx;\n  \n    .review-image {\n      width: 200rpx;\n      height: 200rpx;\n      border-radius: 8rpx;\n    }\n  }\n  .review-time {\n    color: #999;\n    font-size: 24rpx;\n    margin-top: 16rpx;\n    display: block;\n  }\n}\n\n/* 旅行计划卡片样式 */\n.card-content {\n  padding-right: 160rpx;\n  \n  .card-header {\n    display: flex;\n    flex-direction: column;\n    gap: 8rpx;\n    margin-top: 36rpx;\n    margin-bottom: 12rpx;\n  }\n\n  .card-title {\n    font-size: 32rpx;\n    font-weight: 500;\n  }\n\n  .card-time {\n    color: #666;\n    font-size: 26rpx;\n    margin-bottom: 4rpx;\n  }\n\n  .card-meta {\n    display: flex;\n    gap: 20rpx;\n    margin: 8rpx 0;\n    font-size: 26rpx;\n    color: #666;\n  }\n\n  .card-desc {\n    color: #888;\n    font-size: 28rpx;\n    line-height: 1.4;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n    overflow: hidden;\n  }\n}\n</style>","import Component from 'C:/Users/SZQ/Desktop/jinleyou_GitHub/jinleyou_uniapp/components/CardList.vue'\nwx.createComponent(Component)"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAmGA,UAAM,UAAU;AAAA,MACd,MAAM;AAAA,MACN,OAAO;AAAA,MACP,QAAO;AAAA,IACT;AAiBA,UAAM,OAAO;AAEb,UAAM,cAAc,CAAC,SAAS;AAC5B,WAAK,aAAa,IAAI;AAAA,IACxB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3HA,GAAG,gBAAgB,SAAS;"}