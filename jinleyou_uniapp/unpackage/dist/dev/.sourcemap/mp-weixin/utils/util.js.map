{"version":3,"file":"util.js","sources":["utils/util.js"],"sourcesContent":["// utils/util.js\n\n/**\n * 格式化时间为相对时间（如\"刚刚\"、\"5分钟前\"）\n * @param {String|Number} timeString - 时间字符串或时间戳\n * @returns {String} 格式化后的时间字符串\n */\nexport const formatTime = (timeString) => {\n  if (!timeString) return '';\n  \n  // 处理时间戳和字符串两种情况\n  const date = new Date(typeof timeString === 'number' ? timeString : timeString);\n  const now = new Date();\n  const diff = now - date;\n  \n  // 一分钟内\n  if (diff < 60 * 1000) {\n    return '刚刚';\n  }\n  \n  // 一小时内\n  if (diff < 60 * 60 * 1000) {\n    return `${Math.floor(diff / (60 * 1000))}分钟前`;\n  }\n  \n  // 今天内\n  if (date.toDateString() === now.toDateString()) {\n    return `${date.getHours()}:${date.getMinutes().toString().padStart(2, '0')}`;\n  }\n  \n  // 今年内\n  if (date.getFullYear() === now.getFullYear()) {\n    return `${date.getMonth() + 1}月${date.getDate()}日`;\n  }\n  \n  return `${date.getFullYear()}年${date.getMonth() + 1}月${date.getDate()}日`;\n};\n\n/**\n * 格式化日期为YYYY-MM-DD格式\n * @param {String|Number} timestamp - 时间字符串或时间戳\n * @returns {String} 格式化后的日期字符串\n */\nexport const formatDate = (timestamp) => {\n  if (!timestamp) return '';\n  \n  const date = new Date(typeof timestamp === 'number' ? timestamp : timestamp);\n  return `${date.getFullYear()}-${padZero(date.getMonth() + 1)}-${padZero(date.getDate())}`;\n};\n\n/**\n * 格式化时间为YYYY-MM-DD HH:mm格式\n * @param {String|Number} timestamp - 时间字符串或时间戳\n * @returns {String} 格式化后的时间字符串\n */\nexport const formatDateTime = (timestamp) => {\n  if (!timestamp) return '';\n  \n  const date = new Date(typeof timestamp === 'number' ? timestamp : timestamp);\n  return `${formatDate(timestamp)} ${padZero(date.getHours())}:${padZero(date.getMinutes())}`;\n};\n\n/**\n * 补零函数\n * @param {Number} num - 需要补零的数字\n * @returns {String} 补零后的字符串\n */\nconst padZero = (num) => {\n  return num < 10 ? `0${num}` : num.toString();\n};\n\n/**\n * 计算日期差（天数）\n * @param {String|Number} startTime - 开始时间\n * @param {String|Number} endTime - 结束时间\n * @returns {Number} 相差天数\n */\nexport const dateDiff = (startTime, endTime) => {\n  const start = new Date(startTime);\n  const end = new Date(endTime);\n  return Math.floor((end - start) / (1000 * 60 * 60 * 24));\n};\n\nexport default {\n  formatTime,\n  formatDate,\n  formatDateTime,\n  dateDiff\n};"],"names":[],"mappings":";AAOY,MAAC,aAAa,CAAC,eAAe;AACxC,MAAI,CAAC;AAAY,WAAO;AAGxB,QAAM,OAAO,IAAI,KAAK,OAAO,eAAe,WAAW,aAAa,UAAU;AAC9E,QAAM,MAAM,oBAAI;AAChB,QAAM,OAAO,MAAM;AAGnB,MAAI,OAAO,KAAK,KAAM;AACpB,WAAO;AAAA,EACR;AAGD,MAAI,OAAO,KAAK,KAAK,KAAM;AACzB,WAAO,GAAG,KAAK,MAAM,QAAQ,KAAK,IAAK,CAAC;AAAA,EACzC;AAGD,MAAI,KAAK,aAAY,MAAO,IAAI,aAAY,GAAI;AAC9C,WAAO,GAAG,KAAK,SAAQ,CAAE,IAAI,KAAK,aAAa,SAAU,EAAC,SAAS,GAAG,GAAG,CAAC;AAAA,EAC3E;AAGD,MAAI,KAAK,YAAW,MAAO,IAAI,YAAW,GAAI;AAC5C,WAAO,GAAG,KAAK,aAAa,CAAC,IAAI,KAAK,SAAS;AAAA,EAChD;AAED,SAAO,GAAG,KAAK,YAAW,CAAE,IAAI,KAAK,aAAa,CAAC,IAAI,KAAK,QAAS,CAAA;AACvE;;"}