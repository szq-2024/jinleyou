{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script>\n// 新增导入语句\nimport { checkTokenExpiration } from '@/api/auth.js'; // 根据实际路径调整\n\nexport default {\n  onLaunch: function() {\n    console.log('App Launch')\n    // 检查登录状态\n    const token = uni.getStorageSync('token')\n    \n    if (token) {\n      // 直接调用 Token 检查方法\n      const validToken = checkTokenExpiration()\n      if (!validToken) {\n        uni.removeStorageSync('token')\n        uni.reLaunch({ url: '/pages/login/login' })\n      }\n    } else {\n      // 如果没有登录，跳转到登录页面\n      uni.reLaunch({\n        url: '/pages/login/login'\n      })\n    }\n  },\n  onShow: function() {\n    console.log('App Show')\n  },\n  onHide: function() {\n    console.log('App Hide')\n  }\n}\n</script>","import App from './App'\nimport dayjs from 'dayjs'\nimport isSameOrAfter from 'dayjs/plugin/isSameOrAfter'\n\ndayjs.extend(isSameOrAfter) // 扩展插件\n// #ifndef VUE3\nimport Vue from 'vue'\nimport uviewPlus from 'uview-plus'\nimport './uni.promisify.adaptor'\r\n\n\nVue.prototype.$api = api\nVue.config.productionTip = false\nApp.mpType = 'app'\n\nconst app = new Vue({\n  ...App\n})\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nimport store from '@/store/index'\nexport function createApp() {\n  const app = createSSRApp(App)\n  app.use(store)\n  return {\n    app\n  }\n}\n// #endif"],"names":["uni","checkTokenExpiration","dayjs","isSameOrAfter","createSSRApp","App","store"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAIA,MAAK,YAAU;AAAA,EACb,UAAU,WAAW;AACnBA,kBAAAA,MAAY,MAAA,OAAA,gBAAA,YAAY;AAExB,UAAM,QAAQA,cAAAA,MAAI,eAAe,OAAO;AAExC,QAAI,OAAO;AAET,YAAM,aAAaC,SAAAA,qBAAqB;AACxC,UAAI,CAAC,YAAY;AACfD,sBAAG,MAAC,kBAAkB,OAAO;AAC7BA,sBAAAA,MAAI,SAAS,EAAE,KAAK,sBAAsB;AAAA,MAC5C;AAAA,WACK;AAELA,oBAAAA,MAAI,SAAS;AAAA,QACX,KAAK;AAAA,OACN;AAAA,IACH;AAAA,EACD;AAAA,EACD,QAAQ,WAAW;AACjBA,kBAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAAA,EACvB;AAAA,EACD,QAAQ,WAAW;AACjBA,kBAAAA,MAAA,MAAA,OAAA,iBAAY,UAAU;AAAA,EACxB;AACF;AC1BAE,cAAAA,MAAM,OAAOC,cAAAA,aAAa;AAoBnB,SAAS,YAAY;AAC1B,QAAM,MAAMC,cAAY,aAACC,SAAG;AAC5B,MAAI,IAAIC,iBAAK;AACb,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}